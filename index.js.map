{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function initializeLightbox() {\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n\n  // Оновлюємо lightbox після додавання нових елементів\n  lightbox.refresh();\n}\n","import axios from 'axios';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { initializeLightbox } from './render-functions';\n\nconst API_KEY = (axios.defaults.API_KEY = '49359478-baf2a77463771851b04b26e30');\nconst BASE_URL = (axios.defaults.baseURL = 'https://pixabay.com/api/');\n\nexport function fetchPixabay(searchQuery) {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'inline-block';\n\n  axios\n    .get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n      },\n    })\n    .then(response => {\n      if (response.data.hits.length === 0) {\n        // Якщо зображень немає, генеруємо помилку\n        throw new Error('No images found for this query');\n      }\n      return response.data; // Якщо є зображення, продовжуємо\n    })\n    .then(pixabay => populateGallery(pixabay.hits))\n    .catch(error => {\n      iziToast.error({\n        messageColor: '#FAFAFB',\n        iconUrl: '../img/bi_x-octagon.svg',\n        iconColor: 'white',\n        message:\n          'Sorry, there are no images matching</br> your search query. Please, try again!',\n        position: 'topRight',\n        backgroundColor: '#ef4040',\n        color: '#fafafb',\n      });\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n}\nfunction populateGallery(pixabays = []) {\n  const imagesContainer = document.querySelector('.gallery');\n\n  imagesContainer.innerHTML = '';\n  pixabays.forEach(image => {\n    const cardContainer = document.createElement('div');\n    cardContainer.classList.add('card-container');\n\n    const card = document.createElement('div');\n    card.classList.add('card');\n\n    const linkElement = document.createElement('a');\n    linkElement.href = image.largeImageURL;\n\n    const imgElement = document.createElement('img');\n    imgElement.classList.add('card-image');\n    imgElement.src = image.webformatURL;\n    imgElement.alt = image.tags;\n\n    const cardBody = document.createElement('div');\n    cardBody.classList.add('card-body');\n\n    const likes = document.createElement('div');\n    likes.classList.add('card-item');\n    likes.innerHTML = `<h4>Likes</h4><p>${image.likes}</p>`;\n\n    const views = document.createElement('div');\n    views.classList.add('card-item');\n    views.innerHTML = `<h4>Views</h4><p>${image.views}</p>`;\n\n    const comments = document.createElement('div');\n    comments.classList.add('card-item');\n    comments.innerHTML = `<h4>Comments</h4><p>${image.comments}</p>`;\n\n    const downloads = document.createElement('div');\n    downloads.classList.add('card-item');\n    downloads.innerHTML = `<h4>Downloads</h4><p>${image.downloads}</p>`;\n\n    // Додаємо елементи в картку\n    linkElement.appendChild(imgElement);\n    card.appendChild(linkElement);\n    cardBody.appendChild(likes);\n    cardBody.appendChild(views);\n    cardBody.appendChild(comments);\n    cardBody.appendChild(downloads);\n    card.appendChild(cardBody);\n    cardContainer.appendChild(card);\n\n    // Додаємо картку в контейнер\n    imagesContainer.appendChild(cardContainer);\n  });\n  initializeLightbox();\n}\n","import axios from 'axios';\nimport { fetchPixabay } from './js/pixabay-api';\n\nconst pixabayRefs = {\n  form: document.querySelector('.form'),\n  searchQueryInput: document.querySelector('.form-input'),\n  imagesContainer: document.querySelector('.gallery'),\n  button: document.querySelector('.form-button'),\n};\n\npixabayRefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n  const searchQuery = pixabayRefs.searchQueryInput.value.trim();\n  if (!searchQuery) {\n    iziToast.error({\n      messageColor: '#FAFAFB',\n      iconUrl: './img/bi_x-octagon.svg',\n      iconColor: 'white',\n      message:\n        'Sorry, there are no images matching your search query. Please, try again!',\n      position: 'topRight',\n      backgroundColor: '#ef4040',\n      color: '#fafafb',\n    });\n    return;\n  }\n  fetchPixabay(searchQuery);\n});\n"],"names":["initializeLightbox","lightbox","SimpleLightbox","API_KEY","axios","BASE_URL","fetchPixabay","searchQuery","loader","response","pixabay","populateGallery","error","iziToast","pixabays","imagesContainer","image","cardContainer","card","linkElement","imgElement","cardBody","likes","views","comments","downloads","pixabayRefs","event"],"mappings":"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"}